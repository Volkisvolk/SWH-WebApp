{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Volka/Documents/Sketching/WebApp/beeapp/src/app/page.tsx"],"sourcesContent":["\"use client\"\nimport { useState } from 'react'\nimport { useEffect } from 'react'\n\nexport default function Home() {\n  const [tagId, setTagId] = useState('')\n  const [msg, setMsg] = useState('')\n\n  useEffect(() => {\n    (async () => {\n      const r = await fetch('/api/me').catch(()=>null)\n      const d = r ? await r.json() : {}\n      if (d.user) window.location.href = '/dashboard'\n    })()\n  }, [])\n\n  const login = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setMsg('')\n    const r = await fetch('/api/rfid-login', { method: 'POST', headers: { 'Content-Type':'application/json' }, body: JSON.stringify({ tagId }) })\n    if (!r.ok) { setMsg('Login fehlgeschlagen'); return }\n    const d = await r.json()\n  if (d?.needsAdminCreation) { setMsg('Unbekannte Karte. Bitte Admin kontaktieren.'); return }\n    // redirect based on role\n    const role = d.user?.role\n    location.href = role === 'admin' ? '/admin' : '/dashboard'\n  }\n\n  return (\n    <div className=\"min-h-[70vh] flex items-center justify-center p-6\">\n      <form onSubmit={login} className=\"card p-6 space-y-3 w-full max-w-sm\">\n        <h1 className=\"text-xl font-semibold\">RFID Login</h1>\n        <p className=\"text-sm text-gray-600\">Halte deinen RFID-Chip am Scanner. FÃ¼rs Debuggen kannst du die Tag-ID manuell eingeben.</p>\n        <input className=\"input w-full\" placeholder=\"RFID Tag ID\" value={tagId} onChange={e=>setTagId(e.target.value)} />\n  <button className=\"btn btn-primary w-full\">Einloggen</button>\n        {msg && <div className=\"text-red-600 text-sm\">{msg}</div>}\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;;;AADA;;;AAIe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR;kCAAC;oBACC,MAAM,IAAI,MAAM,MAAM,WAAW,KAAK;0CAAC,IAAI;;oBAC3C,MAAM,IAAI,IAAI,MAAM,EAAE,IAAI,KAAK,CAAC;oBAChC,IAAI,EAAE,IAAI,EAAE,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACrC;aAAC;QACH;yBAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;YAQN;QAPb,EAAE,cAAc;QAChB,OAAO;QACP,MAAM,IAAI,MAAM,MAAM,mBAAmB;YAAE,QAAQ;YAAQ,SAAS;gBAAE,gBAAe;YAAmB;YAAG,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAM;QAAG;QAC3I,IAAI,CAAC,EAAE,EAAE,EAAE;YAAE,OAAO;YAAyB;QAAO;QACpD,MAAM,IAAI,MAAM,EAAE,IAAI;QACxB,IAAI,cAAA,wBAAA,EAAG,kBAAkB,EAAE;YAAE,OAAO;YAAgD;QAAO;QACzF,yBAAyB;QACzB,MAAM,QAAO,UAAA,EAAE,IAAI,cAAN,8BAAA,QAAQ,IAAI;QACzB,SAAS,IAAI,GAAG,SAAS,UAAU,WAAW;IAChD;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAK,UAAU;YAAO,WAAU;;8BAC/B,6LAAC;oBAAG,WAAU;8BAAwB;;;;;;8BACtC,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;8BACrC,6LAAC;oBAAM,WAAU;oBAAe,aAAY;oBAAc,OAAO;oBAAO,UAAU,CAAA,IAAG,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;8BAClH,6LAAC;oBAAO,WAAU;8BAAyB;;;;;;gBACpC,qBAAO,6LAAC;oBAAI,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAIvD;GAnCwB;KAAA","debugId":null}}]
}