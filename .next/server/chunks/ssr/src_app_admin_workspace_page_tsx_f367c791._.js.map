{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Volka/Documents/Sketching/WebApp/beeapp/src/app/admin/workspace/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useMemo, useState } from 'react'\r\n\r\ntype Task = { id:number; title:string; points:number; description?:string; tag?:string; tagIds?: number[] }\r\n\r\ntype Assignment = { id:number; taskId:number; userId:number; status:string; taskTitle?:string; userName?:string }\r\ntype StoreItem = { id:number; title:string; cost:number; description?:string }\r\ntype User = { id:number; tagId:string; name?:string; role?: 'admin'|'user'; points?: number }\r\n\r\nexport default function AdminWorkspace() {\r\n  const [tasks, setTasks] = useState<Task[]>([])\r\n  const [assignments, setAssignments] = useState<Assignment[]>([])\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [tags, setTags] = useState<{id:number; name:string; color:string}[]>([])\r\n  const [store, setStore] = useState<StoreItem[]>([])\r\n  const [section, setSection] = useState<'tasks'|'submissions'|'users'|'store'>('tasks')\r\n  const [collapsed, setCollapsed] = useState(false)\r\n\r\n  // hydrate collapsed state from localStorage\r\n  useEffect(() => {\r\n    try {\r\n      const v = window.localStorage.getItem('adminSidebarCollapsed')\r\n      if (v === '1') setCollapsed(true)\r\n    } catch {}\r\n  }, [])\r\n\r\n  // keyboard shortcut Ctrl+B to toggle sidebar\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if ((e.ctrlKey || e.metaKey) && (e.key === 'b' || e.key === 'B')) {\r\n        e.preventDefault();\r\n        setCollapsed(v => { const nv = !v; try { window.localStorage.setItem('adminSidebarCollapsed', nv ? '1' : '0') } catch {}; return nv })\r\n      }\r\n    }\r\n    window.addEventListener('keydown', onKey)\r\n    return () => window.removeEventListener('keydown', onKey)\r\n  }, [])\r\n\r\n  const toggleSidebar = () => setCollapsed(v => { const nv = !v; try { window.localStorage.setItem('adminSidebarCollapsed', nv ? '1' : '0') } catch {}; return nv })\r\n\r\n  // create task\r\n  const [title, setTitle] = useState('')\r\n  const [points, setPoints] = useState<number|''>('')\r\n  const [description, setDescription] = useState('')\r\n  const [createTagIds, setCreateTagIds] = useState<number[]>([])\r\n  const [showCreateTask, setShowCreateTask] = useState(false)\r\n\r\n  // task menu + edit\r\n  const [taskMenuOpenId, setTaskMenuOpenId] = useState<number | null>(null)\r\n  const [showEditTask, setShowEditTask] = useState(false)\r\n  const [editTask, setEditTask] = useState<Task | null>(null)\r\n  const [editTitle, setEditTitle] = useState('')\r\n  const [editPoints, setEditPoints] = useState<number|''>('')\r\n  const [editDescription, setEditDescription] = useState('')\r\n  const [editTagIds, setEditTagIds] = useState<number[]>([])\r\n\r\n  // tag editing for tasks\r\n  const [showEditTaskTags, setShowEditTaskTags] = useState(false)\r\n  const [editTaskForTags, setEditTaskForTags] = useState<Task | null>(null)\r\n\r\n  // task deletion\r\n  const [deleteConfirmTask, setDeleteConfirmTask] = useState<Task | null>(null)\r\n\r\n  // snackbar\r\n  const [snackbar, setSnackbar] = useState<{ type: 'success'|'error'; text: string } | null>(null)\r\n\r\n  // tag manager\r\n  const [showTagManager, setShowTagManager] = useState(false)\r\n\r\n  // assign task\r\n  const [showAssignModal, setShowAssignModal] = useState(false)\r\n  const [assignTask, setAssignTask] = useState<Task | null>(null)\r\n  const [assignSearch, setAssignSearch] = useState('')\r\n\r\n  // user management\r\n  const [newTagId, setNewTagId] = useState('')\r\n  const [newName, setNewName] = useState('')\r\n  const [newRole, setNewRole] = useState<'admin'|'user'>('user')\r\n  const [userMsg, setUserMsg] = useState('')\r\n  const [showCreateUser, setShowCreateUser] = useState(false)\r\n\r\n  // store management\r\n  const [itemTitle, setItemTitle] = useState('')\r\n  const [itemCost, setItemCost] = useState<number|''>('')\r\n  const [itemDesc, setItemDesc] = useState('')\r\n  const [storeBusyId, setStoreBusyId] = useState<number|null>(null)\r\n  const [storeNotice, setStoreNotice] = useState<{ type: 'success'|'error'; text: string } | null>(null)\r\n  const [showCreateItem, setShowCreateItem] = useState(false)\r\n\r\n  const loadAll = async () => {\r\n    const [t, a, u, tg, si] = await Promise.all([\r\n      fetch('/api/tasks').then(r=>r.json()),\r\n      fetch('/api/admin/assignments').then(r=>r.json()),\r\n      fetch('/api/admin/users').then(r=>r.json()),\r\n      fetch('/api/admin/tags').then(r=>r.json()),\r\n      fetch('/api/store').then(r=>r.json()),\r\n    ])\r\n    setTasks(t.tasks||[])\r\n    setAssignments(a.assignments||[])\r\n    setUsers(u.users||[])\r\n    setTags(tg.tags||[])\r\n    setStore(si.items||[])\r\n  }\r\n\r\n  useEffect(()=>{ loadAll() },[])\r\n\r\n  // Auto-close snackbar after 3 seconds\r\n  useEffect(() => {\r\n    if (snackbar) {\r\n      const timer = setTimeout(() => {\r\n        setSnackbar(null)\r\n      }, 3000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [snackbar])\r\n\r\n  // Get assigned users for a task\r\n  const getAssignedUsers = (taskId: number) => {\r\n    const taskAssignments = assignments.filter(a => a.taskId === taskId && a.status === 'assigned')\r\n    return taskAssignments.map(a => users.find(u => u.id === a.userId)).filter(Boolean) as User[]\r\n  }\r\n\r\n  const onCreate = async (e: React.FormEvent) => {\r\n    e.preventDefault(); if(!title || !points) return\r\n    const r = await fetch('/api/tasks',{method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ title, points, description })})\r\n    const d = await r.json().catch(()=>null)\r\n    const newTaskId = d?.task?.id as number | undefined\r\n    if (newTaskId && createTagIds.length > 0) {\r\n      await fetch('/api/admin/tasks/set-tag',{ method:'PATCH', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ taskId: newTaskId, tagIds: createTagIds }) })\r\n    }\r\n    setTitle(''); setPoints(''); setDescription(''); setCreateTagIds([])\r\n    setSnackbar({ type: 'success', text: 'Aufgabe erfolgreich erstellt' })\r\n    loadAll()\r\n  }\r\n\r\n  const assignTaskToUser = async (taskId: number, userId: number) => {\r\n    await fetch('/api/assign', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type':'application/json' },\r\n      body: JSON.stringify({ userId, taskId })\r\n    })\r\n    setSnackbar({ type: 'success', text: 'Person erfolgreich zugewiesen' })\r\n    loadAll()\r\n  }\r\n\r\n  const unassignTaskFromUser = async (assignmentId: number) => {\r\n    await fetch(`/api/assignments/${assignmentId}`, {\r\n      method: 'DELETE'\r\n    })\r\n    setSnackbar({ type: 'success', text: 'Zuweisung erfolgreich entfernt' })\r\n    loadAll()\r\n  }\r\n\r\n  const isUserAssigned = (taskId: number, userId: number) => {\r\n    return assignments.some(a => a.taskId === taskId && a.userId === userId && a.status === 'assigned')\r\n  }\r\n\r\n  const getAssignmentId = (taskId: number, userId: number) => {\r\n    return assignments.find(a => a.taskId === taskId && a.userId === userId && a.status === 'assigned')?.id\r\n  }\r\n\r\n  const openEditTask = (t: Task) => {\r\n    setEditTask(t)\r\n    setEditTitle(t.title)\r\n    setEditPoints(t.points)\r\n    setEditDescription(t.description || '')\r\n    setEditTagIds(t.tagIds || [])\r\n    setShowEditTask(true)\r\n    setTaskMenuOpenId(null)\r\n  }\r\n\r\n  const saveEditTask = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!editTask || !editTitle || editPoints === '') return\r\n    await fetch('/api/tasks', {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type':'application/json' },\r\n      body: JSON.stringify({\r\n        id: editTask.id,\r\n        title: editTitle,\r\n        points: editPoints,\r\n        description: editDescription\r\n      })\r\n    })\r\n    // Speichere Tags separat\r\n    if (editTagIds.length > 0 || editTask.tagIds?.length) {\r\n      await fetch('/api/admin/tasks/set-tag', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type':'application/json' },\r\n        body: JSON.stringify({\r\n          taskId: editTask.id,\r\n          tagIds: editTagIds.length > 0 ? editTagIds : null\r\n        })\r\n      })\r\n    }\r\n    setShowEditTask(false)\r\n    setEditTask(null)\r\n    setSnackbar({ type: 'success', text: 'Aufgabe erfolgreich aktualisiert' })\r\n    loadAll()\r\n  }\r\n\r\n  const pending = useMemo(()=>assignments.filter(a=>a.status==='pending'),[assignments])\r\n\r\n  const act = async (id:number, action:'approve'|'reject') => {\r\n    await fetch(`/api/assignments/${id}`, { method:'PATCH', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ action }) })\r\n    setSnackbar({ type: 'success', text: action === 'approve' ? 'Abgabe genehmigt' : 'Abgabe abgelehnt' })\r\n    loadAll()\r\n  }\r\n\r\n  const createUser = async (e: React.FormEvent) => {\r\n    e.preventDefault(); setUserMsg('')\r\n    if (!newTagId || !newName) { setUserMsg('Bitte Tag und Name angeben.'); return }\r\n    const r = await fetch('/api/admin/create-user', { method: 'POST', headers: { 'Content-Type':'application/json' }, body: JSON.stringify({ tagId: newTagId, name: newName, role: newRole }) })\r\n    if (!r.ok) {\r\n      const d = await r.json().catch(()=>({ error: 'Fehler' }))\r\n      setUserMsg(d.error || 'Fehler')\r\n      setSnackbar({ type: 'error', text: d.error || 'Fehler beim Erstellen des Nutzers' })\r\n      return\r\n    }\r\n    setNewTagId(''); setNewName(''); setNewRole('user')\r\n    setSnackbar({ type: 'success', text: 'Nutzer erfolgreich erstellt' })\r\n    loadAll()\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-gray-950\">\r\n      {/* Snackbar */}\r\n      {snackbar && (\r\n        <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n          <div className={`px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-3 ${snackbar.type === 'success' ? 'bg-green-900 text-green-100 border border-green-700' : 'bg-red-900 text-red-100 border border-red-700'}`}>\r\n            <span>{snackbar.text}</span>\r\n            <button onClick={() => setSnackbar(null)} className=\"ml-2 text-lg\">‚úï</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Top Navigation */}\r\n      <nav className=\"sticky top-0 z-40 border-b border-gray-800 bg-gray-900/95 backdrop-blur\">\r\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-2xl\">üêù</span>\r\n              <span className=\"font-semibold text-lg\">BeeApp</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                style={{\r\n                  backgroundColor: section === 'tasks' ? '#f6c453' : 'transparent',\r\n                  color: section === 'tasks' ? '#1a1a1a' : '#a0a0a0',\r\n                }}\r\n                className=\"px-4 py-2 rounded transition-all font-medium hover:text-yellow-400 hover:bg-gray-800/70\"\r\n                onClick={() => setSection('tasks')}\r\n              >\r\n                Aufgaben\r\n              </button>\r\n              <button\r\n                style={{\r\n                  backgroundColor: section === 'submissions' ? '#f6c453' : 'transparent',\r\n                  color: section === 'submissions' ? '#1a1a1a' : '#a0a0a0',\r\n                }}\r\n                className=\"px-4 py-2 rounded transition-all font-medium hover:text-yellow-400 hover:bg-gray-800/70\"\r\n                onClick={() => setSection('submissions')}\r\n              >\r\n                Abgaben\r\n              </button>\r\n              <button\r\n                style={{\r\n                  backgroundColor: section === 'users' ? '#f6c453' : 'transparent',\r\n                  color: section === 'users' ? '#1a1a1a' : '#a0a0a0',\r\n                }}\r\n                className=\"px-4 py-2 rounded transition-all font-medium hover:text-yellow-400 hover:bg-gray-800/70\"\r\n                onClick={() => setSection('users')}\r\n              >\r\n                Nutzer\r\n              </button>\r\n              <button\r\n                style={{\r\n                  backgroundColor: section === 'store' ? '#f6c453' : 'transparent',\r\n                  color: section === 'store' ? '#1a1a1a' : '#a0a0a0',\r\n                }}\r\n                className=\"px-4 py-2 rounded transition-all font-medium hover:text-yellow-400 hover:bg-gray-800/70\"\r\n                onClick={() => setSection('store')}\r\n              >\r\n                Store\r\n              </button>\r\n              <a\r\n                href=\"/admin/rfid\"\r\n                style={{\r\n                  color: '#a0a0a0',\r\n                }}\r\n                className=\"px-4 py-2 rounded transition-all font-medium hover:text-yellow-400 hover:bg-gray-800/70\"\r\n              >\r\n                RFID\r\n              </a>\r\n            </div>\r\n            <a href=\"/api/logout\" className=\"btn btn-secondary text-sm\">Logout</a>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Content */}\r\n      <main className=\"max-w-7xl mx-auto px-6 py-8\">\r\n        <div className=\"space-y-6\">\r\n          {section === 'tasks' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"card p-5 space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-lg font-semibold\">Aufgaben</h2>\r\n                  <button className=\"btn btn-primary\" title=\"√ñffnet ein Popup zum Anlegen einer Aufgabe\" onClick={()=>setShowCreateTask(true)}>\r\n                    Aufgabe erstellen\r\n                  </button>\r\n                </div>\r\n                <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                  {tasks.map(t=> (\r\n                    <div key={t.id} className=\"card p-3 flex flex-col justify-between min-h-[200px]\">\r\n                      <div>\r\n                        <div className=\"font-medium flex items-center justify-between\">\r\n                          <span className=\"break-words card-title\">{t.title}</span>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            {t.tagIds && t.tagIds.length > 0 ? (\r\n                              <div className=\"flex gap-1 flex-wrap\">\r\n                                {t.tagIds.map(tagId => {\r\n                                  const tag = tags.find(tt => tt.id === tagId)\r\n                                  if (!tag) return null\r\n                                  return (\r\n                                    <span key={tagId} className=\"badge text-xs\" style={{ background: tag.color, color:'#fff', borderColor: 'transparent' }}>\r\n                                      {tag.name}\r\n                                    </span>\r\n                                  )\r\n                                })}\r\n                              </div>\r\n                            ) : null}\r\n                            <div className=\"relative\">\r\n                              <button\r\n                                className=\"btn btn-secondary px-1.5 py-0.5 text-xs\"\r\n                                aria-label=\"Aufgabe Optionen\"\r\n                                onClick={()=>setTaskMenuOpenId(taskMenuOpenId === t.id ? null : t.id)}\r\n                              >\r\n                                ‚ãØ\r\n                              </button>\r\n                              {taskMenuOpenId === t.id && (\r\n                                <div className=\"absolute right-0 mt-2 w-40 card p-1 z-20\">\r\n                                  <button className=\"btn btn-secondary w-full justify-start text-xs px-2 py-1\" onClick={()=>{ openEditTask(t); setTaskMenuOpenId(null) }}>\r\n                                    Bearbeiten\r\n                                  </button>\r\n                                  <button className=\"btn btn-danger w-full justify-start text-xs px-2 py-1 mt-0.5\" onClick={()=>{ setDeleteConfirmTask(t); setTaskMenuOpenId(null) }}>\r\n                                    L√∂schen\r\n                                  </button>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {t.description && <div className=\"text-sm mt-1 break-words\">{t.description}</div>}\r\n                        <div className=\"text-sm text-gray-600 mt-2\">{t.points} Punkte</div>\r\n                        \r\n                        {/* Assigned Users */}\r\n                        {getAssignedUsers(t.id).length > 0 && (\r\n                          <div className=\"flex items-center gap-2 mt-2\">\r\n                            <div className=\"flex -space-x-2\">\r\n                              {getAssignedUsers(t.id).slice(0, 3).map((user, idx) => (\r\n                                <div\r\n                                  key={`${t.id}-${user.id}`}\r\n                                  className=\"w-7 h-7 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center text-xs font-semibold text-gray-900 border-2 border-gray-800 hover:z-10 transition-transform hover:scale-110\"\r\n                                  title={user.name || user.tagId}\r\n                                  style={{ zIndex: 3 - idx }}\r\n                                >\r\n                                  {(user.name || user.tagId).charAt(0).toUpperCase()}\r\n                                </div>\r\n                              ))}\r\n                              {getAssignedUsers(t.id).length > 3 && (\r\n                                <div\r\n                                  className=\"w-7 h-7 rounded-full bg-gray-700 flex items-center justify-center text-xs font-medium text-gray-300 border-2 border-gray-800\"\r\n                                  title={`${getAssignedUsers(t.id).length - 3} weitere`}\r\n                                >\r\n                                  +{getAssignedUsers(t.id).length - 3}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                            <span className=\"text-xs text-gray-500\">\r\n                              {getAssignedUsers(t.id).length === 1 ? '1 Person zugewiesen' : `${getAssignedUsers(t.id).length} Personen zugewiesen`}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"mt-3\">\r\n                        <button className=\"btn btn-primary w-full\" onClick={()=>{ setAssignTask(t); setShowAssignModal(true) }}>\r\n                          Zuweisen\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"card p-5 space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-lg font-semibold\">Tags</h2>\r\n                  <button className=\"btn btn-primary\" onClick={()=>setShowTagManager(true)}>\r\n                    Tags verwalten\r\n                  </button>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {tags.length === 0 ? (\r\n                    <div className=\"text-sm text-gray-500\">Keine Tags vorhanden. Erstelle neue Tags um Aufgaben zu kategorisieren.</div>\r\n                  ) : (\r\n                    tags.map(t => (\r\n                      <span key={t.id} className=\"badge text-sm px-3 py-1.5\" style={{ background: t.color, borderColor: 'transparent', color: '#fff' }}>\r\n                        {t.name}\r\n                      </span>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {showCreateTask && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>setShowCreateTask(false)} />\r\n              <div className=\"relative card w-full max-w-lg p-5 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h3 className=\"text-lg font-semibold\">Neue Aufgabe</h3>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>setShowCreateTask(false)}>Schlie√üen</button>\r\n                </div>\r\n                <form onSubmit={async (e)=>{ await onCreate(e); setShowCreateTask(false) }} className=\"grid gap-3\">\r\n                  <input className=\"input\" placeholder=\"Titel\" value={title} onChange={e=>setTitle(e.target.value)} />\r\n                  <input className=\"input\" type=\"number\" placeholder=\"Punkte\" value={points} onChange={e=>setPoints(parseInt(e.target.value||'0'))} />\r\n                  <input className=\"input\" placeholder=\"Beschreibung\" value={description} onChange={e=>setDescription(e.target.value)} />\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Tags (optional)</label>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {tags.map(tag => {\r\n                        const isSelected = createTagIds.includes(tag.id)\r\n                        return (\r\n                          <button\r\n                            key={tag.id}\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              const newTagIds = isSelected\r\n                                ? createTagIds.filter(id => id !== tag.id)\r\n                                : [...createTagIds, tag.id]\r\n                              setCreateTagIds(newTagIds)\r\n                            }}\r\n                            style={{\r\n                              backgroundColor: isSelected ? tag.color : 'transparent',\r\n                              borderColor: tag.color,\r\n                              color: isSelected ? '#fff' : tag.color\r\n                            }}\r\n                            className=\"px-3 py-1 rounded border-2 transition-colors cursor-pointer font-medium text-sm\"\r\n                          >\r\n                            {isSelected ? '‚úì ' : ''}{tag.name}\r\n                          </button>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                  <button className=\"btn btn-primary\">Erstellen</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n\r\n          {showEditTask && editTask && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>{ setShowEditTask(false); setEditTask(null) }} />\r\n              <div className=\"relative card w-full max-w-lg p-5 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold\">Aufgabe bearbeiten</h3>\r\n                    <div className=\"text-sm text-gray-600\">{editTask.title}</div>\r\n                  </div>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>{ setShowEditTask(false); setEditTask(null) }}>Schlie√üen</button>\r\n                </div>\r\n                <form onSubmit={saveEditTask} className=\"grid gap-3\">\r\n                  <input className=\"input\" placeholder=\"Titel\" value={editTitle} onChange={e=>setEditTitle(e.target.value)} />\r\n                  <input className=\"input\" type=\"number\" placeholder=\"Punkte\" value={editPoints} onChange={e=>setEditPoints(parseInt(e.target.value||'0'))} />\r\n                  <input className=\"input\" placeholder=\"Beschreibung\" value={editDescription} onChange={e=>setEditDescription(e.target.value)} />\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Tags (Mehrfachauswahl)</label>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {tags.map(tag => {\r\n                        const isSelected = editTagIds.includes(tag.id)\r\n                        return (\r\n                          <button\r\n                            key={tag.id}\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              const newTagIds = isSelected\r\n                                ? editTagIds.filter(id => id !== tag.id)\r\n                                : [...editTagIds, tag.id]\r\n                              setEditTagIds(newTagIds)\r\n                            }}\r\n                            style={{\r\n                              backgroundColor: isSelected ? tag.color : 'transparent',\r\n                              borderColor: tag.color,\r\n                              color: isSelected ? '#fff' : tag.color\r\n                            }}\r\n                            className=\"px-3 py-1 rounded border-2 transition-colors cursor-pointer font-medium text-sm\"\r\n                          >\r\n                            {isSelected ? '‚úì ' : ''}{tag.name}\r\n                          </button>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                  <button className=\"btn btn-primary\">Speichern</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {showAssignModal && assignTask && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>{ setShowAssignModal(false); setAssignTask(null); setAssignSearch('') }} />\r\n              <div className=\"relative card w-full max-w-lg p-5 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold\">Personen zuweisen</h3>\r\n                    <div className=\"text-sm text-gray-600\">{assignTask.title}</div>\r\n                  </div>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>{ setShowAssignModal(false); setAssignTask(null); setAssignSearch('') }}>Schlie√üen</button>\r\n                </div>\r\n                \r\n                {/* Currently Assigned */}\r\n                {getAssignedUsers(assignTask.id).length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h4 className=\"text-sm font-semibold text-gray-400\">Aktuell zugewiesen</h4>\r\n                    <div className=\"space-y-1\">\r\n                      {getAssignedUsers(assignTask.id).map(u => {\r\n                        const assignmentId = getAssignmentId(assignTask.id, u.id)\r\n                        return (\r\n                          <div key={u.id} className=\"flex items-center justify-between p-2 rounded bg-gray-800/50 border border-gray-700\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center text-sm font-semibold text-gray-900\">\r\n                                {(u.name || u.tagId).charAt(0).toUpperCase()}\r\n                              </div>\r\n                              <div>\r\n                                <div className=\"font-medium text-sm\">{u.name || '‚Äî'}</div>\r\n                                <div className=\"text-xs text-gray-500\">{u.tagId}</div>\r\n                              </div>\r\n                            </div>\r\n                            <button \r\n                              className=\"btn btn-danger text-xs px-2 py-1\"\r\n                              onClick={async ()=>{ if(assignmentId) await unassignTaskFromUser(assignmentId) }}\r\n                            >\r\n                              Entfernen\r\n                            </button>\r\n                          </div>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Search */}\r\n                <div>\r\n                  <input \r\n                    type=\"text\" \r\n                    className=\"input w-full\" \r\n                    placeholder=\"Suche nach Name oder Tag-ID...\"\r\n                    value={assignSearch}\r\n                    onChange={e => setAssignSearch(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                {/* Available Users */}\r\n                <div className=\"space-y-2\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-400\">Weitere Personen</h4>\r\n                  <div className=\"space-y-1 max-h-[40vh] overflow-auto\">\r\n                    {users\r\n                      .filter(u => !isUserAssigned(assignTask.id, u.id))\r\n                      .filter(u => {\r\n                        if (!assignSearch) return true\r\n                        const search = assignSearch.toLowerCase()\r\n                        return (u.name?.toLowerCase().includes(search)) || u.tagId.toLowerCase().includes(search)\r\n                      })\r\n                      .map(u => (\r\n                        <button\r\n                          key={u.id}\r\n                          className=\"flex items-center justify-between p-2 rounded bg-gray-800/30 border border-gray-700 hover:bg-gray-700/50 transition-colors w-full\"\r\n                          onClick={async ()=>{ await assignTaskToUser(assignTask.id, u.id) }}\r\n                        >\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-medium text-gray-300\">\r\n                              {(u.name || u.tagId).charAt(0).toUpperCase()}\r\n                            </div>\r\n                            <div className=\"text-left\">\r\n                              <div className=\"font-medium text-sm\">{u.name || '‚Äî'}</div>\r\n                              <div className=\"text-xs text-gray-500\">{u.tagId}</div>\r\n                            </div>\r\n                          </div>\r\n                          <span className=\"text-xs text-gray-500\">Zuweisen</span>\r\n                        </button>\r\n                      ))\r\n                    }\r\n                    {users.filter(u => !isUserAssigned(assignTask.id, u.id)).filter(u => {\r\n                      if (!assignSearch) return true\r\n                      const search = assignSearch.toLowerCase()\r\n                      return (u.name?.toLowerCase().includes(search)) || u.tagId.toLowerCase().includes(search)\r\n                    }).length === 0 && (\r\n                      <div className=\"text-sm text-gray-500 text-center py-4\">\r\n                        {assignSearch ? 'Keine Benutzer gefunden' : 'Alle Benutzer sind zugewiesen'}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {showEditTaskTags && editTaskForTags && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>{ setShowEditTaskTags(false); setEditTaskForTags(null) }} />\r\n              <div className=\"relative card w-full max-w-lg p-5 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold\">Tags Bearbeiten</h3>\r\n                    <div className=\"text-sm text-gray-600\">{editTaskForTags.title}</div>\r\n                  </div>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>{ setShowEditTaskTags(false); setEditTaskForTags(null) }}>Schlie√üen</button>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Verf√ºgbare Tags (Mehrfachauswahl)</label>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {tags.map(tag => {\r\n                        const isSelected = editTaskForTags.tagIds?.includes(tag.id) || false\r\n                        return (\r\n                          <button\r\n                            key={tag.id}\r\n                            onClick={async ()=>{\r\n                              try {\r\n                                const currentTags = editTaskForTags.tagIds || []\r\n                                const newTagIds = isSelected \r\n                                  ? currentTags.filter(id => id !== tag.id)\r\n                                  : [...currentTags, tag.id]\r\n                                const r = await fetch('/api/admin/tasks/set-tag', { \r\n                                  method:'PATCH', \r\n                                  headers:{'Content-Type':'application/json'}, \r\n                                  body: JSON.stringify({ taskId: editTaskForTags.id, tagIds: newTagIds.length > 0 ? newTagIds : null }) \r\n                                })\r\n                                const data = await r.json()\r\n                                if (r.ok && data.task) {\r\n                                  setEditTaskForTags(data.task)\r\n                                  setSnackbar({ type: 'success', text: `Tag ${isSelected ? 'entfernt' : 'hinzugef√ºgt'}` })\r\n                                  await loadAll()\r\n                                } else {\r\n                                  setSnackbar({ type: 'error', text: data.error || 'Fehler beim Speichern des Tags' })\r\n                                }\r\n                              } catch (e) {\r\n                                setSnackbar({ type: 'error', text: 'Fehler beim Speichern des Tags' })\r\n                              }\r\n                            }}\r\n                            style={{\r\n                              backgroundColor: isSelected ? tag.color : 'transparent',\r\n                              borderColor: tag.color,\r\n                              color: isSelected ? '#fff' : tag.color\r\n                            }}\r\n                            className=\"px-3 py-1 rounded border-2 transition-colors cursor-pointer font-medium\"\r\n                          >\r\n                            {isSelected ? '‚úì ' : ''}{tag.name}\r\n                          </button>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {showTagManager && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>setShowTagManager(false)} />\r\n              <div className=\"relative card w-full max-w-2xl p-5 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h3 className=\"text-lg font-semibold\">Tags verwalten</h3>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>setShowTagManager(false)}>Schlie√üen</button>\r\n                </div>\r\n                <TagManager tags={tags} onChange={loadAll} />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {deleteConfirmTask && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>setDeleteConfirmTask(null)} />\r\n              <div className=\"relative card w-full max-w-sm p-5 space-y-4\">\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold\">Aufgabe l√∂schen?</h3>\r\n                  <div className=\"text-sm text-gray-600 mt-2\">{deleteConfirmTask.title}</div>\r\n                </div>\r\n                <p className=\"text-sm text-gray-500\">Diese Aktion kann nicht r√ºckg√§ngig gemacht werden.</p>\r\n                <div className=\"flex gap-2\">\r\n                  <button className=\"btn btn-secondary flex-1\" onClick={()=>setDeleteConfirmTask(null)}>\r\n                    Abbrechen\r\n                  </button>\r\n                  <button className=\"btn btn-danger flex-1\" onClick={async ()=>{ await fetch(`/api/tasks?id=${deleteConfirmTask.id}`, {method:'DELETE'}); setDeleteConfirmTask(null); setSnackbar({ type: 'success', text: 'Aufgabe erfolgreich gel√∂scht' }); loadAll() }}>\r\n                    L√∂schen\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {section === 'submissions' && (\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold\">Abgaben</h1>\r\n                <p className=\"text-sm text-gray-600\" style={{maxWidth:600}}>Pr√ºfen und best√§tigen/ablehnen.</p>\r\n              </div>\r\n              <div className=\"card p-5 space-y-3\">\r\n                <h2 className=\"text-lg font-semibold\">Ausstehende Abgaben</h2>\r\n                {pending.length === 0 ? (\r\n                  <div className=\"text-sm text-gray-600\">Keine ausstehenden Abgaben.</div>\r\n                ) : (\r\n                  <ul className=\"space-y-2\">\r\n                    {pending.map(a => (\r\n                      <li key={a.id} className=\"flex items-center justify-between\">\r\n                        <div className=\"break-words\">{a.taskTitle || `Task #${a.taskId}`} ‚Äì {a.userName || `User #${a.userId}`}</div>\r\n                        <div className=\"flex gap-2\">\r\n                          <button onClick={()=>act(a.id,'approve')} className=\"btn btn-success\">Best√§tigen</button>\r\n                          <button onClick={()=>act(a.id,'reject')} className=\"btn btn-danger\">Ablehnen</button>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {section === 'users' && (\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold\">Nutzer</h1>\r\n                <p className=\"text-sm text-gray-600\" style={{maxWidth:600}}>Anlegen, bef√∂rdern und l√∂schen.</p>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-lg font-semibold\">Nutzer √úbersicht</h2>\r\n                <button className=\"btn btn-primary\" title=\"√ñffnet ein Popup zum Anlegen eines Nutzers\" onClick={()=>setShowCreateUser(true)}>\r\n                  Nutzer erstellen\r\n                </button>\r\n              </div>\r\n              <div className=\"card p-5 space-y-3\">\r\n                <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                  {users.map(u => (\r\n                    <div key={u.id} className=\"card p-3 space-y-2\">\r\n                      <div className=\"font-medium break-words flex items-center justify-between\">\r\n                        <span className=\"card-title\">{u.name || '‚Äî'}</span>\r\n                        {u.role && <span className=\"badge ml-2\">{u.role}</span>}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-600 break-words\">Tag: {u.tagId}</div>\r\n                      {typeof u.points === 'number' && <div className=\"text-sm text-gray-600\">Punkte: {u.points}</div>}\r\n                      <div className=\"flex gap-2 pt-1\">\r\n                        {u.role !== 'admin' ? (\r\n                          <button onClick={async()=>{await fetch('/api/admin/users',{method:'PATCH',headers:{'Content-Type':'application/json'},body: JSON.stringify({ userId: u.id, role:'admin' })}); setSnackbar({ type: 'success', text: 'Nutzer zu Admin bef\\u00f6rdert' }); loadAll()}} className=\"btn btn-success\">Zu Admin machen</button>\r\n                        ) : (\r\n                          <button onClick={async()=>{await fetch('/api/admin/users',{method:'PATCH',headers:{'Content-Type':'application/json'},body: JSON.stringify({ userId: u.id, role:'user' })}); setSnackbar({ type: 'success', text: 'Admin zu User zur\\u00fcckgestuft' }); loadAll()}} className=\"btn\">Zu User machen</button>\r\n                        )}\r\n                        <button onClick={async()=>{ if(confirm('Nutzer l\\u00f6schen?')) { await fetch(`/api/admin/users?userId=${u.id}`,{method:'DELETE'}); setSnackbar({ type: 'success', text: 'Nutzer erfolgreich gel\\u00f6scht' }); loadAll() } }} className=\"btn btn-danger\">L\\u00f6schen</button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {showCreateUser && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                  <div className=\"absolute inset-0 bg-black/50\" onClick={()=>setShowCreateUser(false)} />\r\n                  <div className=\"relative card w-full max-w-lg p-5 space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <h3 className=\"text-lg font-semibold\">Nutzer erstellen</h3>\r\n                      <button className=\"btn btn-secondary\" onClick={()=>setShowCreateUser(false)}>Schlie√üen</button>\r\n                    </div>\r\n                    <form onSubmit={async (e)=>{ await createUser(e); setShowCreateUser(false) }} className=\"grid gap-3\">\r\n                      <input className=\"input\" placeholder=\"RFID Tag ID\" value={newTagId} onChange={e=>setNewTagId(e.target.value)} />\r\n                      <input className=\"input\" placeholder=\"Name\" value={newName} onChange={e=>setNewName(e.target.value)} />\r\n                      <select className=\"input\" value={newRole} onChange={e=>setNewRole(e.target.value as 'admin'|'user')}>\r\n                        <option value=\"user\">User</option>\r\n                        <option value=\"admin\">Admin</option>\r\n                      </select>\r\n                      <button className=\"btn btn-primary\">Erstellen</button>\r\n                      {userMsg && <div className=\"text-red-600 text-sm\">{userMsg}</div>}\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {section === 'store' && (\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold\">Store</h1>\r\n                <p className=\"text-sm text-gray-600\" style={{maxWidth:600}}>Artikel anlegen und verwalten.</p>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-lg font-semibold\">Artikel √úbersicht</h2>\r\n                <button className=\"btn btn-primary\" title=\"√ñffnet ein Popup zum Anlegen eines Artikels\" onClick={()=>setShowCreateItem(true)}>\r\n                  Artikel erstellen\r\n                </button>\r\n              </div>\r\n              <div className=\"card p-5 space-y-3\">\r\n                <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                  {store.map(it => (\r\n                    <div key={it.id} className=\"card p-3 space-y-2\">\r\n                      <div className=\"font-medium flex items-center justify-between\">\r\n                        <span className=\"break-words card-title\">{it.title}</span>\r\n                        <span className=\"badge\">{it.cost} Punkte</span>\r\n                      </div>\r\n                      {it.description && <div className=\"text-sm text-gray-600 break-words\">{it.description}</div>}\r\n                      <div className=\"pt-1\">\r\n                        <button disabled={storeBusyId===it.id} onClick={async()=>{ if(confirm('Artikel l\\u00f6schen?')) { setStoreBusyId(it.id); const r = await fetch(`/api/store?id=${it.id}`, { method:'DELETE' }); setStoreBusyId(null); if (r.ok) { setSnackbar({ type:'success', text:'Artikel erfolgreich gel\\u00f6scht' }) } else { const d = await r.json().catch(()=>({error:'Fehler'})); setSnackbar({ type:'error', text: d.error || 'Fehler beim L\\u00f6schen' }) } loadAll() } }} className=\"btn btn-danger disabled:opacity-50 disabled:cursor-not-allowed\">L\\u00f6schen</button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {showCreateItem && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n              <div className=\"absolute inset-0 bg-black/50\" onClick={()=>setShowCreateItem(false)} />\r\n              <div className=\"relative card w-full max-w-lg p-5 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h3 className=\"text-lg font-semibold\">Neuer Artikel</h3>\r\n                  <button className=\"btn btn-secondary\" onClick={()=>setShowCreateItem(false)}>Schlie√üen</button>\r\n                </div>\r\n                <form onSubmit={async(e)=>{ e.preventDefault(); if(!itemTitle || !itemCost){return} const r = await fetch('/api/store',{method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ title: itemTitle, cost: itemCost, description: itemDesc })}); if (r.ok) { setItemTitle(''); setItemCost(''); setItemDesc(''); setSnackbar({ type:'success', text:'Artikel erfolgreich erstellt' }); setShowCreateItem(false); loadAll() } else { const d = await r.json().catch(()=>({error:'Fehler'})); setSnackbar({ type:'error', text: d.error || 'Fehler beim Erstellen' }) } }} className=\"grid gap-3\">\r\n                  <input className=\"input\" placeholder=\"Titel\" value={itemTitle} onChange={e=>setItemTitle(e.target.value)} />\r\n                  <input className=\"input\" type=\"number\" placeholder=\"Kosten\" value={itemCost} onChange={e=>setItemCost(parseInt(e.target.value||'0'))} />\r\n                  <input className=\"input\" placeholder=\"Beschreibung\" value={itemDesc} onChange={e=>setItemDesc(e.target.value)} />\r\n                  <button className=\"btn btn-primary\">Erstellen</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TagManager({ tags, onChange }: { tags: {id:number; name:string; color:string}[]; onChange: ()=>void }) {\r\n  const [name, setName] = useState('')\r\n  const [color, setColor] = useState('#0ea5e9')\r\n  const [snackbar, setSnackbar] = useState<{ type: 'success'|'error'; text: string } | null>(null)\r\n  const create = async (e: React.FormEvent) => {\r\n    e.preventDefault(); if(!name || !color) return\r\n    await fetch('/api/admin/tags',{method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ name, color })})\r\n    setName(''); setColor('#0ea5e9')\r\n    setSnackbar({ type: 'success', text: 'Tag erfolgreich erstellt' })\r\n    onChange()\r\n  }\r\n\r\n  // Auto-close snackbar\r\n  useEffect(() => {\r\n    if (snackbar) {\r\n      const timer = setTimeout(() => setSnackbar(null), 3000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [snackbar])\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      {/* Snackbar */}\r\n      {snackbar && (\r\n        <div className=\"px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-3 ${snackbar.type === 'success' ? 'bg-green-900 text-green-100 border border-green-700' : 'bg-red-900 text-red-100 border border-red-700'}\">\r\n          <span>{snackbar.text}</span>\r\n          <button onClick={() => setSnackbar(null)} className=\"ml-2 text-lg\">‚úï</button>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Create New Tag */}\r\n      <div>\r\n        <h4 className=\"text-sm font-semibold text-gray-400 mb-3\">Neuen Tag erstellen</h4>\r\n        <form onSubmit={create} className=\"space-y-3\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">Tag Name</label>\r\n              <input className=\"input\" placeholder=\"z.B. Wichtig, Dringend...\" value={name} onChange={e=>setName(e.target.value)} />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">Farbe</label>\r\n              <div className=\"flex gap-2\">\r\n                <input className=\"input flex-1\" type=\"color\" value={color} onChange={e=>setColor(e.target.value)} />\r\n                <div className=\"w-10 h-10 rounded border-2 border-gray-700\" style={{ backgroundColor: color }} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button className=\"btn btn-primary w-full\">Tag erstellen</button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Existing Tags */}\r\n      <div>\r\n        <h4 className=\"text-sm font-semibold text-gray-400 mb-3\">Vorhandene Tags ({tags.length})</h4>\r\n        {tags.length === 0 ? (\r\n          <div className=\"text-sm text-gray-500 text-center py-8\">Noch keine Tags vorhanden</div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-2 gap-2 max-h-[40vh] overflow-auto\">\r\n            {tags.map(t => (\r\n              <div key={t.id} className=\"flex items-center justify-between p-3 rounded border-2 border-gray-700 bg-gray-800/30\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-4 h-4 rounded\" style={{ backgroundColor: t.color }} />\r\n                  <span className=\"font-medium text-sm\">{t.name}</span>\r\n                </div>\r\n                <button \r\n                  onClick={async()=>{ \r\n                    if(confirm(`Tag \"${t.name}\" wirklich l√∂schen?`)) {\r\n                      await fetch(`/api/admin/tags?tagId=${t.id}`,{method:'DELETE'})\r\n                      setSnackbar({ type: 'success', text: 'Tag erfolgreich gel√∂scht' })\r\n                      onChange()\r\n                    }\r\n                  }} \r\n                  className=\"btn btn-danger text-xs px-2 py-1\"\r\n                  title=\"Tag l√∂schen\"\r\n                >\r\n                  L√∂schen\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}